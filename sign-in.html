<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign In</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Poppins", sans-serif;
        background-color: #f4f4f4;
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }
      .container {
        background: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 400px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .input {
        display: flex;
        flex-direction: column;
        width: 100%;
      }
      .container h1 {
        margin-bottom: 20px;
        color: #272727;
      }
      form {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 15px;
      }
      form label {
        margin-bottom: 5px;
        color: #555;
      }
      form input[type="text"],
      form input[type="email"],
      form input[type="password"] {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }
      form button {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        background-color: #e2612d;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      form button:hover {
        background-color: #cf4b1a;
      }
      form p {
        font-size: 12px;
        text-align: center;
        margin-top: 11px;
      }
      .success-message {
        background-color: #d4edda;
        color: #155724;
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 15px;
        text-align: center;
        display: none;
      }
      .error-message {
        background-color: #f8d7da;
        color: #721c24;
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 15px;
        text-align: center;
        display: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Sign In</h1>
      
      <div id="success-message" class="success-message">
        Signed in successfully! Redirecting to home page...
      </div>
      
      <div id="error-message" class="error-message"></div>
      
      <form id="signin-form" action="php/login.php" method="POST">
        <div class="input">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            placeholder="Enter your email"
            required
            autocomplete="off"
          />
        </div>

        <div class="input">
          <label for="password">Password:</label>
          <input
            type="password"
            id="password"
            name="password"
            placeholder="Enter your password"
            required
            autocomplete="off"
          />
        </div>
        
        <button type="submit">Sign In</button>
        <p>Don't have an account? <a href="sign-up.html">Sign up</a></p>
      </form>
    </div>
    
    <script>
      // Handle form submission
      document.getElementById('signin-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // Get form values
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value.trim();
        
        // Basic validation
        if (!email || !password) {
          showError('Please fill in all fields.');
          return;
        }
        
        if (!validateEmail(email)) {
          showError('Please enter a valid email address.');
          return;
        }
        
        if (password.length < 6) {
          showError('Password must be at least 6 characters long.');
          return;
        }
        
        // For demo purposes - accept any email/password combination
        // In a real app, you would check against a database here
        
        // Show success message
        const successMessage = document.getElementById('success-message');
        const errorMessage = document.getElementById('error-message');
        const form = document.getElementById('signin-form');
        
        errorMessage.style.display = 'none';
        form.style.display = 'none';
        successMessage.style.display = 'block';
        
        // Redirect to index.php after 2 seconds
        setTimeout(() => {
          window.location.href = 'index.php';
        }, 2000);
      });
      
      function showError(message) {
        const errorMessage = document.getElementById('error-message');
        errorMessage.textContent = message;
        errorMessage.style.display = 'block';
        
        // Hide error message after 5 seconds
        setTimeout(() => {
          errorMessage.style.display = 'none';
        }, 5000);
      }
      
      function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
      }
      
      // Check URL parameters for success/error messages
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.has('success')) {
        showSuccess('Signed in successfully! Redirecting to home page...');
        setTimeout(() => {
          window.location.href = 'index.html';
        }, 2000);
      }
      
      if (urlParams.has('error')) {
        const errorMessage = urlParams.get('error');
        showError('Error: ' + errorMessage);
      }
      
      function showSuccess(message) {
        const successMessage = document.getElementById('success-message');
        successMessage.textContent = message;
        successMessage.style.display = 'block';
        
        setTimeout(() => {
          successMessage.style.display = 'none';
        }, 3000);
      }
    </script>
  </body>
</html>